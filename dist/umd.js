!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("rxjs/operators"),require("vue")):"function"==typeof define&&define.amd?define(["exports","rxjs","rxjs/operators","vue"],e):e((r="undefined"!=typeof globalThis?globalThis:r||self).vuseRx={},r.rxjs,r.rxjs.operators,r.Vue)}(this,(function(r,e,n,t){"use strict";function o(r){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function u(r){return function(r){if(Array.isArray(r))return i(r)}(r)||function(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}(r)||function(r,e){if(!r)return;if("string"==typeof r)return i(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(r,e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var f=function(r){return new e.Observable((function(e){t.getCurrentInstance()&&r((function(){return e.next()}))}))},c=function(r){return n.takeUntil(f(r))},a=function(r){return r.pipe(c(t.onUnmounted))},s=function r(e){return function(n){for(var t in n)e[t]="object"===o(n[t])&&null!==n&&"object"===o(e[t])?r(e[t])(n[t]):n[t];return e}};var l=function(r){return"".concat(r,"$")},p=function(r){return Object.assign({},r,{subscribe:function(){var e;return Object.assign({},r,{subscription:(e=r.state$).subscribe.apply(e,arguments)})}})},b=function(r){for(var e=arguments.length,n=new Array(e>1?e-1:0),t=1;t<e;t++)n[t-1]=arguments[t];return"function"==typeof r?r.apply(void 0,n):r};r.deepMergeKeys=s,r.fromHook=f,r.fromRef=function(r){return a(new e.Observable((function(e){return t.watch(r,(function(r){return e.next(r)}))})))},r.pipeUntil=c,r.refFrom=function(r,n){if("object"===o(r))try{var u=t.ref(n);return e.from(r).subscribe((function(r){return u.value=r})),u}catch(r){}return t.isProxy(r)?t.toRef(r,n):t.ref(r)},r.refsFrom=function(r,n){var o=t.ref(null==n?void 0:n.next),u=t.ref(null==n?void 0:n.error);return e.from(r).subscribe({next:function(r){return o.value=r},error:function(r){return u.value=r}}),{next:o,error:u}},r.syncRef=function(r,e,n){var o=e.to,u=e.from;if(o&&u)return t.computed({get:function(){return o(r.value)},set:function(e){return r.value=u(e)}});var i=t.ref(null!=n?n:r.value);return o?t.watch(r,(function(r){return i.value=o(r)})):u&&t.watch(i,(function(e){return r.value=u(e)})),i},r.untilUnmounted=a,r.useRxState=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return function(i,f){var c,s=t.reactive(b(r)),v=n.mergeScan((function(r,t){var u=b(t,r);return(e.isObservable(u)?u:e.of(u)).pipe(n.map(o(r)))}),s),y={},m={},d=function(r){var n=new e.Subject;y[r]=function(){return n.next(i[r].apply(i,arguments))},m[l(r)]=n.pipe(v)};for(var j in i)d(j);var x=e.merge.apply(void 0,u(Object.values(m)));return p({actions:y,state:t.readonly(s),state$:a(null!==(c=null==f?void 0:f(x,i,s,m).pipe(v))&&void 0!==c?c:x),actions$:m})}},Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=umd.js.map
