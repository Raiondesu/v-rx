!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("rxjs"),require("rxjs/operators"),require("vue")):"function"==typeof define&&define.amd?define(["exports","rxjs","rxjs/operators","vue"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).vuseRx={},e.rxjs,e.rxjs.operators,e.Vue)}(this,(function(e,n,r,t){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=function(e){return new n.Observable((function(n){t.getCurrentInstance()&&e((function(){return n.next()}))}))},i=function(e){return r.takeUntil(u(e))},f=function(e){return e.pipe(i(t.onUnmounted))},c=function(e,n,r){return"object"===o(n[r])&&null!==n&&"object"===o(e[r])},a=function e(n){return function(r){for(var t in r)n[t]=c(n,r,t)?e(n[t])(r[t]):r[t];return n}},s={mutationStrategy:a};var l=function(e){return Object.assign({},e,{subscribe:function(){var n;return Object.assign({},e,{subscription:(n=e.state$).subscribe.apply(n,arguments)})}})},p=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return"function"==typeof e?e.apply(void 0,r):e};e.canMergeDeep=c,e.deepMergeKeys=a,e.fromHook=u,e.fromRef=function(e){return f(new n.Observable((function(n){return t.watch(e,(function(e){return n.next(e)}))})))},e.pipeUntil=i,e.refFrom=function(e,r){if("object"===o(e))try{var u=t.ref(r);return n.from(e).subscribe((function(e){return u.value=e})),u}catch(e){}return t.isProxy(e)?t.toRef(e,r):t.ref(e)},e.refsFrom=function(e,r){var o=t.ref(null==r?void 0:r.next),u=t.ref(null==r?void 0:r.error);return n.from(e).subscribe({next:function(e){return o.value=e},error:function(e){return u.value=e}}),{next:o,error:u}},e.syncRef=function(e,n,r){var o=n.to,u=n.from;if(o&&u)return t.computed({get:function(){return o(e.value)},set:function(n){return e.value=u(n)}});var i=t.ref(null!=r?r:e.value);return o?t.watch(e,(function(e){return i.value=o(e)})):u&&t.watch(i,(function(n){return e.value=u(n)})),i},e.untilUnmounted=f,e.useRxState=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,u=Object.assign({},s,o),i=u.mutationStrategy;return function(o,u){var c=t.reactive(p(e)),a={},s={},v=[],b=function(e){var t=new n.Subject;a[e]=function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return t.next(o[e].apply(o,r))},v.push(s["".concat(e,"$")]=r.mergeScan((function(e,o){var u=!1,f=void 0;return o=p(o,e,{error:function(e){f=e},complete:function(){u=!0}}),(n.isObservable(o)?o:n.of(o)).pipe(r.map(i(e,i)),r.tap((function(){return u?t.complete():f&&t.error(f)})))}),c)(t))};for(var y in o)b(y);var m=n.merge.apply(void 0,v);return l({actions:a,state:t.readonly(c),state$:f(u?u(m,o,c,s).pipe(r.scan((function(e,n){return i(e,i)(n)}),c)):m),actions$:s})}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=umd.js.map
