!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("rxjs"),require("rxjs/operators"),require("vue")):"function"==typeof define&&define.amd?define(["exports","rxjs","rxjs/operators","vue"],r):r((n="undefined"!=typeof globalThis?globalThis:n||self).vuseRx={},n.rxjs,n.rxjs.operators,n.Vue)}(this,(function(n,r,e,t){"use strict";function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var u=function(n){return new r.Observable((function(r){t.getCurrentInstance()&&n((function(){return r.next()}))}))},i=function(n){return e.takeUntil(u(n))},f=function(n){return n.pipe(i(t.onUnmounted))};var c=function(n,r,e){return"object"===o(r[e])&&null!==r&&"object"===o(n[e])},a=function n(r){return function(e){for(var t in e)r[t]=c(r,e,t)?n(r[t])(e[t]):e[t];return r}},s={mutationStrategy:a},l=function(n){return Object.assign({},n,{subscribe:function(){var r;return Object.assign({},n,{subscription:(r=n.state$).subscribe.apply(r,arguments)})}})},p=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];return"function"==typeof n?n.apply(void 0,e):n},v=function(n){return function(r){return e.catchError((function(e,t){throw n(e,t,r)}))}},b=v((function(n,r,e){return e(n,r)})),y=v((function(n,r,e){return e(n,r),n}));n.canMergeDeep=c,n.deepMergeKeys=a,n.fromHook=u,n.fromRef=function(n){return f(new r.Observable((function(r){return t.watch(n,(function(n){return r.next(n)}))})))},n.mapError=b,n.pipeUntil=i,n.refFrom=function(n,e){if("object"===o(n))try{var u=t.ref(e);return r.from(n).subscribe((function(n){return u.value=n})),u}catch(n){}return t.isProxy(n)?t.toRef(n,e):t.ref(n)},n.refsFrom=function(n,e){var o=t.ref(null==e?void 0:e.next),u=t.ref(null==e?void 0:e.error);return r.from(n).subscribe({next:function(n){return o.value=n},error:function(n){return u.value=n}}),{next:o,error:u}},n.setRef=function(n){return e.tap((function(r){return n.value=r}))},n.syncRef=function(n,r,e){var o=r.to,u=r.from;if(o&&u)return t.computed({get:function(){return o(n.value)},set:function(r){return n.value=u(r)}});var i=t.ref(null!=e?e:n.value);return o?t.watch(n,(function(n){return i.value=o(n)})):u&&t.watch(i,(function(r){return n.value=u(r)})),i},n.tapError=y,n.untilUnmounted=f,n.useRxState=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,u=Object.assign({},s,o),i=u.mutationStrategy;return function(o,u){var c=t.reactive(p(n)),a={},s={},v=[],b=function(n){var t=new r.Subject;a[n]=function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return t.next(o[n].apply(o,e))},v.push(s["".concat(n,"$")]=e.mergeScan((function(n,o){var u=!1,f=void 0;return o=p(o,n,{error:function(n){f=n},complete:function(){u=!0}}),(r.isObservable(o)?o:r.of(o)).pipe(e.map(i(n,i)),e.tap((function(){return u?t.complete():f&&t.error(f)})))}),c)(t))};for(var y in o)b(y);var m=r.merge.apply(void 0,v);return l({actions:a,state:t.readonly(c),state$:f(u?u(m,o,c,s).pipe(e.scan((function(n,r){return i(n,i)(r)}),c)):m),actions$:s})}},Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=umd.js.map
