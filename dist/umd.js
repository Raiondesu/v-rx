!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("vue")):"function"==typeof define&&define.amd?define(["exports","rxjs","rxjs/operators","vue"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).vuseRx={},n.rxjs,n.rxjs.operators,n.Vue)}(this,(function(n,t,e,r){"use strict";function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var u=function(n){return new t.Observable((function(t){r.getCurrentInstance()&&n((function(){return t.next()}))}))},i=function(n){return e.takeUntil(u(n))},c=i(r.onUnmounted);var f=function(n,t,e){return"object"===o(t[e])&&null!==t&&"object"===o(n[e])},a=function n(t){return function(e){for(var r in e)t[r]=f(t,e,r)?n(t[r])(e[r]):e[r];return t}},s={mutationStrategy:a},p=function(n){return Object.assign({},n,{subscribe:function(){var t;return Object.assign({},n,{subscription:(t=n.state$).subscribe.apply(t,arguments)})}})},l=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return"function"==typeof n?n.apply(void 0,e):n};function b(n,t,e){var o=r.ref(null==e?t.to?t.to(n.value):n.value:e);for(var u in t)(o[u]=v(n,o,t,u,this)).bind();return o}b.with=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var r=Object.assign.apply(Object,[{}].concat(t)),o=b.bind(r);return o.with=b.with.bind(r),o};var v=function(n,t,e,o,u){return{bind:function(i){var c=Object.assign({ref:n,map:e[o],watch:u},i),f=c.ref,a=c.map,s=c.watch;t[o].stop(),t[o].stop="to"===o?r.watch(f,(function(n){return t.value=a(n)}),Object.assign({},u,s)):r.watch(t,(function(n){return f.value=a(n)}),Object.assign({},u,s))},stop:function(){}}};n.canMergeDeep=f,n.deepMergeKeys=a,n.fromHook=u,n.fromRef=function(n){return c(new t.Observable((function(t){return r.watch(n,(function(n){return t.next(n)}))})))},n.mapError=function(n){return e.catchError((function(t,e){throw n(t,e)}))},n.pipeUntil=i,n.refFrom=function(n,e){if("object"===o(n))try{var u=r.ref(e);return c(t.from(n)).subscribe({next:function(n){return u.value=n}}),u}catch(n){}return r.isProxy(n)?r.toRef(n,e):r.ref(n)},n.refsFrom=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.ref(e.next),u=r.ref(e.error),i=c(t.from(n));return{next:o,error:u,value$:i,subscription:i.subscribe({next:function(n){return o.value=n},error:function(n){return u.value=n}})}},n.setRef=function(n){return e.tap({next:function(t){return n.value=t}})},n.syncRef=b,n.untilUnmounted=c,n.useRxState=function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,u=Object.assign({},s,o),i=u.mutationStrategy;return function(o,u){var f=r.reactive(l(n)),a={},s={},b=[],v=!1,y=void 0,m={error:function(n){y=n},complete:function(){v=!0}},d=function(n){var r=new t.Subject;a[n]=function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];return r.next(o[n].apply(o,e))},b.push(s["".concat(n,"$")]=e.mergeScan((function(n,o){return o=l(o,n,m),(t.isObservable(o)?o:t.of(o)).pipe(e.map(i(n,i)),e.tap({next:function(){return y?y=r.error(y):v&&r.complete()}}))}),f)(r))};for(var g in o)d(g);var h=t.merge.apply(void 0,b);return p({actions:a,state:r.readonly(f),state$:c(u?u(h,o,f,s,m).pipe(e.scan((function(n,t){return i(n,i)(t)}),f)):h),actions$:s})}},Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=umd.js.map
