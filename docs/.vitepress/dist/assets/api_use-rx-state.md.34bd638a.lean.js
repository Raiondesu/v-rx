import{r as n,o as s,c as t,b as a,w as o,d as e}from"./app.77032936.js";const c='{"title":"useRxState","description":"","frontmatter":{},"headers":[{"level":2,"title":"Description","slug":"description"},{"level":3,"title":"Options and fine-tuning","slug":"options-and-fine-tuning"},{"level":2,"title":"Type Signature and overloads","slug":"type-signature-and-overloads"},{"level":3,"title":"1. State","slug":"_1-state"},{"level":3,"title":"2. Reducers","slug":"_2-reducers"},{"level":2,"title":"Basic example","slug":"basic-example"}],"relativePath":"api/use-rx-state.md","lastUpdated":1617978899579}',p={},l=a("h1",{id:"userxstate"},[a("a",{class:"header-anchor",href:"#userxstate","aria-hidden":"true"},"#"),e(" useRxState")],-1),u=a("blockquote",null,[a("p",null,"Allows to bind reducers to a reactive state and observables.")],-1),i=a("p",null,[a("a",{href:"https://github.com/Raiondesu/vuse-rx/blob/main/src/use-rx.ts",target:"_blank",rel:"noopener noreferrer"},"Source")],-1),r=a("p",null,[a("div",{class:"table-of-contents"},[a("ul",null,[a("li",null,[a("a",{href:"#description"},"Description"),a("ul",null,[a("li",null,[a("a",{href:"#options-and-fine-tuning"},"Options and fine-tuning")])])]),a("li",null,[a("a",{href:"#type-signature-and-overloads"},"Type Signature and overloads"),a("ul",null,[a("li",null,[a("a",{href:"#_1-state"},"1. State")]),a("li",null,[a("a",{href:"#_2-reducers"},"2. Reducers")])])]),a("li",null,[a("a",{href:"#basic-example-https-github-com-raiondesu-vuse-rx-blob-main-docs-vitepress-theme-recipes-counter-vue"},"Basic example")])])])],-1),k=a("h2",{id:"description"},[a("a",{class:"header-anchor",href:"#description","aria-hidden":"true"},"#"),e(" Description")],-1),d=a("p",null,"Implements a light flux pattern using rxjs' Observables.",-1),m=a("p",null,[e("Even though state management is not the primary concern of "),a("code",null,"vuse-rx"),e(", it still allows for a basic flux-like state management with observables using "),a("code",null,"useRxState"),e(".")],-1),h=a("p",null,"This function returns 3 key parts:",-1),f=a("ul",null,[a("li",null,[e("Reactive "),a("strong",null,"state")]),a("li",null,[e("State "),a("strong",null,"reducers")]),a("li",null,[e("RXjs "),a("strong",null,"observable")])],-1),g=a("p",null,"All of them work in unison to always keep vue components in sync with the application business logic.",-1),b=a("p",null,[a("img",{src:"/vuse.svg",alt:"diagram"})],-1),v=a("p",null,[e("The big difference from other flux-like solutions is that "),a("code",null,"useRxState"),e(" doesn't care whether it's a singleton that manages the state of the whole application or just used locally in a component. Therefore, it's much more flexible for small- to mid- scale applications.")],-1),y=a("p",null,"It accepts, at minimum, an initial state and some reducers:",-1),w=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" state "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"0"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token keyword"},"const"),e(" reducers "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function-variable function"},"increment"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(" state "),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"+"),e(),a("span",{class:"token number"},"1"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token comment"},"// Now using const destructuring:"),e("\n"),a("span",{class:"token keyword"},"const"),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token comment"},"// actions that mutate the state via reducers"),e("\n  actions"),a("span",{class:"token punctuation"},","),e("\n\n  "),a("span",{class:"token comment"},"// vue reactive state"),e("\n  state"),a("span",{class:"token punctuation"},","),e("\n\n  "),a("span",{class:"token comment"},"// state observable"),e("\n  state$"),a("span",{class:"token punctuation"},","),e("\n\n  "),a("span",{class:"token comment"},"// observables that are triggered on specific actions"),e("\n  actions$\n"),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),e("reducers"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"subscribe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n")])])],-1),x=a("p",null,"And returns a reactive state, actions, and some observables to make things easier to control.",-1),R=a("p",null,[a("code",null,"useRxState"),e(" automatically makes the state reactive for Vue, so you don't need to worry about applying "),a("code",null,"reactive"),e(" to it.")],-1),S=a("h3",{id:"options-and-fine-tuning"},[a("a",{class:"header-anchor",href:"#options-and-fine-tuning","aria-hidden":"true"},"#"),e(" Options and fine-tuning")],-1),$=a("p",null,[a("code",null,"useRxState"),e(" allows to change some of its behaviour via the optional "),a("code",null,"options"),e(" parameter in the first function.")],-1),A=a("h4",{id:"mutation-strategy"},[a("a",{class:"header-anchor",href:"#mutation-strategy","aria-hidden":"true"},"#"),e(" Mutation strategy")],-1),O=a("p",null,"Via options you can change how new mutations are applied to the state:",-1),T=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"import"),e(),a("span",{class:"token punctuation"},"{"),e("\n  useRxState"),a("span",{class:"token punctuation"},","),e("\n  "),a("span",{class:"token comment"},"// this is the default mutation merge strategy"),e("\n  deepReplaceArray"),a("span",{class:"token punctuation"},","),e("\n  "),a("span",{class:"token comment"},"// fast checker of whether we can mutate the state deeper"),e("\n  canMergeDeep\n"),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token keyword"},"from"),e(),a("span",{class:"token string"},"'vuse-rx'"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),e("initialState"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token punctuation"},"{"),e("\n  mutationStrategy"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("\n    "),a("span",{class:"token comment"},"// A full base state to mutate"),e("\n    state"),a("span",{class:"token punctuation"},","),e("\n    "),a("span",{class:"token comment"},"// Current mutation strategy (this exact function)"),e("\n    mutate\n  "),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),e("\n    "),a("span",{class:"token comment"},"// Mutation to apply"),e("\n    mutation\n  "),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token comment"},"// Let's say, we also need to apply our mutations to symbols:"),e("\n    "),a("span",{class:"token keyword"},"for"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"const"),e(" key "),a("span",{class:"token keyword"},"of"),e(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"getOwnPropertySymbols"),a("span",{class:"token punctuation"},"("),e("mutation"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n      "),a("span",{class:"token comment"},"// Check if we can go deeper"),e("\n      state"),a("span",{class:"token punctuation"},"["),e("key"),a("span",{class:"token punctuation"},"]"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"canMergeDeep"),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},","),e(" mutation"),a("span",{class:"token punctuation"},","),e(" key"),a("span",{class:"token punctuation"},")"),e("\n        "),a("span",{class:"token comment"},"// If yes - mutate the state further using our function"),e("\n        "),a("span",{class:"token operator"},"?"),e(),a("span",{class:"token function"},"mutate"),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},"["),e("key"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),e("mutation"),a("span",{class:"token punctuation"},"["),e("key"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),e("\n        "),a("span",{class:"token comment"},"// if no - just assign the value of our mutation"),e("\n        "),a("span",{class:"token operator"},":"),e(" mutation"),a("span",{class:"token punctuation"},"["),e("key"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n\n    "),a("span",{class:"token comment"},"// Apply the default strategy once we're done"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token function"},"deepReplaceArray"),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),e("mutation"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token comment"},"// or..."),e("\n\n    "),a("span",{class:"token comment"},"// if we need to restrict our mutations to symbols only"),e("\n    "),a("span",{class:"token comment"},"// we can just return the state"),e("\n    "),a("span",{class:"token comment"},"// without applying the default strategy"),e("\n    "),a("span",{class:"token keyword"},"return"),e(" state"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n")])])],-1),j=a("p",null,"There are 3 mutation strategies provided out-of the box:",-1),_=a("ul",null,[a("li",null,[a("code",null,"shallow"),e(" - surface-level merge, equivalent to an object spread"),a("br"),e(" ("),a("code",null,"state = { ...state, ...mutation }"),e(")")]),a("li",null,[a("code",null,"deep"),e(" - recursively merges mutations with the state")]),a("li",null,[a("code",null,"deepReplaceArray"),e(" - "),a("strong",null,"DEFAULT"),e(" - same as "),a("code",null,"deep"),e(", but does a simple shallow replacement for arrays")])],-1),M=a("p",null,[e("Each mutation strategy sets its own mutation type, so a mutation for the "),a("code",null,"deep"),e(" strategy may be different from a mutation for the "),a("code",null,"shallow"),e(" strategy.")],-1),V=a("p",null,[e("However, mutation type is not restricted to a product of the initial state or an object even!"),a("br"),e(" You can even pass a string if you want to:")],-1),C=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"0"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token comment"},"// This is not advised, of course, but for the sake of example..."),e("\n  "),a("span",{class:"token function-variable function"},"mutationStrategy"),a("span",{class:"token operator"},":"),e(" state "),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),e("mutation"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token string"},"'increment'"),e(),a("span",{class:"token operator"},"|"),e(),a("span",{class:"token string"},"'decrement'"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n    count"),a("span",{class:"token operator"},":"),e(" mutation "),a("span",{class:"token operator"},"==="),e(),a("span",{class:"token string"},"'increment'"),e(),a("span",{class:"token operator"},"?"),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"+"),e(),a("span",{class:"token number"},"1"),e(),a("span",{class:"token operator"},":"),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"-"),e(),a("span",{class:"token number"},"1"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function-variable function"},"increment"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token string"},"'increment'"),a("span",{class:"token punctuation"},","),e("\n  "),a("span",{class:"token function-variable function"},"decrement"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token string"},"'decrement'"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n")])])],-1),D=a("h2",{id:"type-signature-and-overloads"},[a("a",{class:"header-anchor",href:"#type-signature-and-overloads","aria-hidden":"true"},"#"),e(" Type Signature and overloads")],-1),I=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),e(),a("span",{class:"token keyword"},"extends"),e(),a("span",{class:"token class-name"},[e("Record"),a("span",{class:"token operator"},"<"),a("span",{class:"token builtin"},"string"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token builtin"},"any"),a("span",{class:"token operator"},">")]),a("span",{class:"token punctuation"},","),e(" Mutation"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),e("\n  initialState"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"S"),e(),a("span",{class:"token operator"},"|"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n  options"),a("span",{class:"token operator"},"?"),a("span",{class:"token operator"},":"),e(" RxStateOptions\n"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),e(),a("span",{class:"token keyword"},"extends"),e(),a("span",{class:"token class-name"},[e("StateReducers"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">")]),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),e("\n  reducers"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"R"),a("span",{class:"token punctuation"},","),e("\n  map$"),a("span",{class:"token operator"},"?"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("\n    state$"),a("span",{class:"token operator"},":"),e(" Observable"),a("span",{class:"token operator"},"<"),e("Readonly"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">>"),a("span",{class:"token punctuation"},","),e("\n    reducers"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"R"),a("span",{class:"token punctuation"},","),e("\n    state"),a("span",{class:"token operator"},":"),e(" Readonly"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},","),e("\n    actions$"),a("span",{class:"token operator"},":"),e(" Record"),a("span",{class:"token operator"},"<"),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),a("span",{class:"token keyword"},"keyof"),e(),a("span",{class:"token constant"},"R"),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token string"},"$"),a("span",{class:"token template-punctuation string"},"`")]),a("span",{class:"token punctuation"},","),e(" Observable"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">>"),a("span",{class:"token punctuation"},","),e("\n    context"),a("span",{class:"token operator"},":"),e(" MutationContext\n  "),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(" Observable"),a("span",{class:"token operator"},"<"),e("Mutation"),a("span",{class:"token operator"},">"),e("\n"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n  actions"),a("span",{class:"token operator"},":"),e(" ReducerActions"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},";"),e("\n  state"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token punctuation"},";"),e("\n  state$"),a("span",{class:"token operator"},":"),e(" Observable"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},";"),e("\n  actions$"),a("span",{class:"token operator"},":"),e(" ReducerObservables"),a("span",{class:"token operator"},"<"),e("ReducerActions"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token function-variable function"},"subscribe"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("next"),a("span",{class:"token operator"},"?"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n    actions"),a("span",{class:"token operator"},":"),e(" ReducerActions"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},";"),e("\n    state"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token punctuation"},";"),e("\n    state$"),a("span",{class:"token operator"},":"),e(" Observable"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},";"),e("\n    actions$"),a("span",{class:"token operator"},":"),e(" ReducerObservables"),a("span",{class:"token operator"},"<"),e("ReducerActions"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},";"),e("\n    subscription"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"{"),e(),a("span",{class:"token function"},"unsubscribe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token keyword"},"void"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")])])],-1),L=a("p",null,"This function is split into two parts:",-1),q=a("ol",null,[a("li",null,"State-capturing function - determines the shape and contents of the state and returns the second part:"),a("li",null,"Reducers-capturing function - sets the reducers")],-1),F=a("h3",{id:"_1-state"},[a("a",{class:"header-anchor",href:"#_1-state","aria-hidden":"true"},"#"),e(" 1. "),a("strong",null,"State")],-1),N=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),e(),a("span",{class:"token keyword"},"extends"),e(),a("span",{class:"token class-name"},[e("Record"),a("span",{class:"token operator"},"<"),a("span",{class:"token builtin"},"string"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token builtin"},"any"),a("span",{class:"token operator"},">")]),a("span",{class:"token punctuation"},","),e(" Mutation "),a("span",{class:"token operator"},"="),e(" deepReplaceArrayMutation"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),e("\n  initialState"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"S"),e(),a("span",{class:"token operator"},"|"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n  options"),a("span",{class:"token operator"},"?"),a("span",{class:"token operator"},":"),e(" RxStateOptions"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token punctuation"},","),e(" Mutation"),a("span",{class:"token operator"},">"),e("\n"),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token builtin"},"Function"),e("\n")])])],-1),B=a("p",null,[e("Accepts either a state object or a state factory function and an optional options object."),a("br"),e(" It remembers the state, applies the options, and then returns the second function.")],-1),E=a("h3",{id:"_2-reducers"},[a("a",{class:"header-anchor",href:"#_2-reducers","aria-hidden":"true"},"#"),e(" 2. "),a("strong",null,"Reducers")],-1),P=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),e(),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),e(),a("span",{class:"token keyword"},"extends"),e(),a("span",{class:"token class-name"},[e("StateReducers"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">")]),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),e("\n  reducers"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"R"),a("span",{class:"token punctuation"},","),e("\n  map$"),a("span",{class:"token operator"},"?"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("\n    state$"),a("span",{class:"token operator"},":"),e(" Observable"),a("span",{class:"token operator"},"<"),e("Readonly"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">>"),a("span",{class:"token punctuation"},","),e("\n    reducers"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token constant"},"R"),a("span",{class:"token punctuation"},","),e("\n    state"),a("span",{class:"token operator"},":"),e(" Readonly"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},","),e("\n    actions$"),a("span",{class:"token operator"},":"),e(" Record"),a("span",{class:"token operator"},"<"),a("span",{class:"token template-string"},[a("span",{class:"token template-punctuation string"},"`"),a("span",{class:"token interpolation"},[a("span",{class:"token interpolation-punctuation punctuation"},"${"),a("span",{class:"token keyword"},"keyof"),e(),a("span",{class:"token constant"},"R"),a("span",{class:"token interpolation-punctuation punctuation"},"}")]),a("span",{class:"token string"},"$"),a("span",{class:"token template-punctuation string"},"`")]),a("span",{class:"token punctuation"},","),e(" Observable"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">>"),a("span",{class:"token punctuation"},","),e("\n    context"),a("span",{class:"token operator"},":"),e(" MutationContext\n  "),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(" Observable"),a("span",{class:"token operator"},"<"),e("Mutation"),a("span",{class:"token operator"},">"),e("\n"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(" SubscribableRxRes"),a("span",{class:"token operator"},"<"),e("ReducerActions"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"R"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token constant"},"S"),a("span",{class:"token operator"},">"),e("\n")])])],-1),U=a("p",null,"There's a lot to unpack. Let's go one parameter at-a-time.",-1),z=a("p",null,[e("For concrete usage examples with both parameters see the "),a("a",{href:"/recipes/stopwatch.html"},[a("code",null,"stopwatch"),e(" recipe")]),e(".")],-1),H=a("h4",{id:"parameter-1-reducers"},[a("a",{class:"header-anchor",href:"#parameter-1-reducers","aria-hidden":"true"},"#"),e(" Parameter 1: "),a("code",null,"reducers")],-1),J=a("p",null,"This function's primary goal is to bind reducers to the state.",-1),W=a("p",null,[e("The reducers are passed in as a first parameter in "),a("a",{href:"https://github.com/Raiondesu/vuse-rx/blob/main/src/use-rx.ts#L236",target:"_blank",rel:"noopener noreferrer"},"the following format"),e(". Each "),a("strong",null,"reducer"),e(" must "),a("strong",null,"return"),e(" either "),a("strong",null,"a part of the state"),e(" or "),a("strong",null,"an observable"),e(" that emits a part of the state.")],-1),X=a("p",null,[e("A reducer can be either state"),a("strong",null,"ful"),e(" or state"),a("strong",null,"less"),e(":")],-1),Y=a("ul",null,[a("li",null,[a("p",null,[e("A state"),a("strong",null,"ful"),e(" reducer uses a state object to compute the mutation:"),a("br"),e(" For example, an add-reducer:")]),a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// Reducer returns a function that accepts a state and a mutation context"),e("\n"),a("span",{class:"token comment"},"// and returns the final mutation"),e("\n"),a("span",{class:"token punctuation"},"("),e("addAmount"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},","),e(" mutation"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"+"),e(" addAmount "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n")])])])]),a("li",null,[a("p",null,[e("A state"),a("strong",null,"less"),e(" reducer only uses its initial parameters to compute the mutation:"),a("br"),e(" For example, a replace-reducer:")]),a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// Reducer returns the final mutation right away"),e("\n"),a("span",{class:"token punctuation"},"("),e("newValue"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(" newValue "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),e("\n")])])])])],-1),G=a("p",null,"The resulting mutation is then automatically merged with the state itself.",-1),K=a("p",null,"Let's see a complete example:",-1),Q=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"0"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token comment"},"// stateful"),e("\n  "),a("span",{class:"token function-variable function"},"add"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("addAmount"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},","),e(" mutation"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"+"),e(" addAmount "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n\n  "),a("span",{class:"token comment"},"// stateless"),e("\n  "),a("span",{class:"token function-variable function"},"set"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("newValue"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(" newValue "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"subscribe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e("\n")])])],-1),Z=a("p",null,[e("It's also possible to inform observables about errors or make them complete from within the reducers. The "),a("code",null,"mutation"),e(" context parameter is used for this."),a("br"),a("code",null,"mutation"),e(" is optional, however, so it is recommended to use the "),a("a",{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/Optional_chaining",target:"_blank",rel:"noopener noreferrer"},[e("optional chaining ("),a("code",null,"?."),e(") operator")]),e(" when using it.")],-1),nn=a("p",null,[e("Let's rewrite our "),a("code",null,"add"),e(" reducer with this in mind:")],-1),sn=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(" maximumValue "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token number"},"10"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token keyword"},"const"),e(),a("span",{class:"token punctuation"},"{"),e(" actions"),a("span",{class:"token punctuation"},","),e(" state "),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"0"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function-variable function"},"add"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),e("addAmount"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},","),e(" mutation"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("addAmount "),a("span",{class:"token operator"},"<"),e(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n      "),a("span",{class:"token comment"},"// Raise a mutation error"),e("\n      mutation"),a("span",{class:"token operator"},"?."),a("span",{class:"token function"},"error"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'add amount cannot be negative!'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\n      "),a("span",{class:"token comment"},"// Signify that no changes need to be made"),e("\n      "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token punctuation"},"{"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n\n    "),a("span",{class:"token keyword"},"const"),e(" newValue "),a("span",{class:"token operator"},"="),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"+"),e(" addAmount"),a("span",{class:"token punctuation"},";"),e("\n\n    "),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("newValue "),a("span",{class:"token operator"},">="),e(" maximumValue"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n      "),a("span",{class:"token comment"},"// This mutation will never be called again"),e("\n      mutation"),a("span",{class:"token operator"},"?."),a("span",{class:"token function"},"complete"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token punctuation"},"}"),e("\n\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(" newValue "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"subscribe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token function-variable function"},"error"),a("span",{class:"token operator"},":"),e(" errorText "),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"error"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'Oh no, an error:'"),a("span",{class:"token punctuation"},","),e(" errorText"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),e("\n  "),a("span",{class:"token function-variable function"},"complete"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'Counter stopped at '"),a("span",{class:"token punctuation"},","),e(" state"),a("span",{class:"token punctuation"},"."),e("count"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\nactions"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"add"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"9"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token comment"},"// 50%"),e("\n"),a("span",{class:"token keyword"},"if"),e(),a("span",{class:"token punctuation"},"("),e("Math"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"random"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},">"),e(),a("span",{class:"token number"},"0.5"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token punctuation"},"{"),e("\n  actions"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"add"),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"-"),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token comment"},"//> Oh no, an error: add amount cannot be negative!"),e("\n"),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token keyword"},"else"),e(),a("span",{class:"token punctuation"},"{"),e("\n  actions"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"add"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n  "),a("span",{class:"token comment"},"//> Counter stopped at 10"),e("\n"),a("span",{class:"token punctuation"},"}"),e("\n")])])],-1),tn=a("h4",{id:"parameter-2-map"},[a("a",{class:"header-anchor",href:"#parameter-2-map","aria-hidden":"true"},"#"),e(" Parameter 2: "),a("code",null,"map$")],-1),an=a("p",null,[e("It's also possible to modify the resulting observable using the second parameter, "),a("code",null,"map$"),e("."),a("br"),e(" It accepts:")],-1),on=a("ul",null,[a("li",null,[a("code",null,"state$"),e(" - the resulting observable (fired on each action)")]),a("li",null,[a("code",null,"reducers"),e(" - a map of raw reducers (basically, the first parameter itself)")]),a("li",null,[a("code",null,"state"),e(" - current reactive state")]),a("li",null,[a("code",null,"actions$"),e(" - a map of all observables that are fired on action calls")]),a("li",null,[a("code",null,"context"),e(" - a current mutation context, same as the one in the reducers,"),a("br"),e(" can be passed into the reducers to allow them to control the mutation too")])],-1),en=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),e("\n  reducers"),a("span",{class:"token punctuation"},","),e("\n  "),a("span",{class:"token comment"},"// add this parameter to any useRxState call to try"),e("\n  "),a("span",{class:"token punctuation"},"("),e("state$"),a("span",{class:"token punctuation"},","),e(" reducers"),a("span",{class:"token punctuation"},","),e(" state"),a("span",{class:"token punctuation"},","),e(" actions$"),a("span",{class:"token punctuation"},","),e(" context"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'This is logged only once'"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'These are all reducers defined above, unchanged:'"),a("span",{class:"token punctuation"},","),e(" reducers"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'This is an initial reactive state:'"),a("span",{class:"token punctuation"},","),e(" state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'This is a map of all actions to their secific observables:'"),a("span",{class:"token punctuation"},","),e(" actions$"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'This context can be used to create an error or to complete the observable:'"),a("span",{class:"token punctuation"},","),e(" context"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\n    "),a("span",{class:"token comment"},"// By the way, state$ is just merged actions$,"),e("\n    "),a("span",{class:"token comment"},"// so this"),e("\n    "),a("span",{class:"token keyword"},"return"),e(" state$"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"pipe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"tap"),a("span",{class:"token punctuation"},"("),e("state "),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'this is logged on each action'"),a("span",{class:"token punctuation"},","),e(" state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token comment"},"// and this"),e("\n    "),a("span",{class:"token keyword"},"return"),e(),a("span",{class:"token function"},"merge"),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"..."),e("Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"values"),a("span",{class:"token punctuation"},"("),e("actions$"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"pipe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"tap"),a("span",{class:"token punctuation"},"("),e("state "),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'this is logged on each action'"),a("span",{class:"token punctuation"},","),e(" state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n    "),a("span",{class:"token comment"},"// are identical"),e("\n  "),a("span",{class:"token punctuation"},"}"),e("\n"),a("span",{class:"token punctuation"},")"),e("\n")])])],-1),cn=a("h4",{id:"returned-value"},[a("a",{class:"header-anchor",href:"#returned-value","aria-hidden":"true"},"#"),e(" Returned value")],-1),pn=a("p",null,"The function then returns a pretty complex object, with the first three properties being the main ones:",-1),ln=a("ul",null,[a("li",null,[a("code",null,"state"),e(" - a plain Vue reactive state, mutable.")]),a("li",null,[a("code",null,"actions"),e(" - transformed reducers, they accept the defined parameters, but mutate the state, instead of just returning its parts.")]),a("li",null,[a("code",null,"state$"),e(" - an observable that emits a new state each time there's an update.")]),a("li",null,[a("code",null,"actions$"),e(" - a map of individual observables per each action, useful for tracking individual action calls.")]),a("li",null,[a("code",null,"subscribe"),e(" - a shorthand for calling "),a("code",null,"subscribe"),e(" on the "),a("code",null,"state$"),e(", returns the same object with rxjs "),a("a",{href:"https://rxjs-dev.firebaseapp.com/guide/subscription",target:"_blank",rel:"noopener noreferrer"},[a("code",null,"Subscription")]),e(" mixed-in.")])],-1),un=a("h2",{id:"basic-example"},[a("a",{class:"header-anchor",href:"#basic-example","aria-hidden":"true"},"#"),e(),a("a",{href:"https://github.com/Raiondesu/vuse-rx/blob/main/docs/.vitepress/theme/recipes/counter.vue",target:"_blank",rel:"noopener noreferrer"},"Basic example")],-1),rn=a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),e(),a("span",{class:"token punctuation"},"{"),e("\n  actions"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"{"),e("\n    increment"),a("span",{class:"token punctuation"},","),e("\n    setCount\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),e("\n  state"),a("span",{class:"token punctuation"},","),e("\n  state$ "),a("span",{class:"token comment"},"// state observable"),e("\n"),a("span",{class:"token punctuation"},"}"),e(),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e(" count"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token number"},"0"),e(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n  "),a("span",{class:"token comment"},"// stateful reducer"),e("\n  "),a("span",{class:"token function-variable function"},"increment"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token parameter"},"state"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token comment"},"// automatic type inference for the state"),e("\n    count"),a("span",{class:"token operator"},":"),e(" state"),a("span",{class:"token punctuation"},"."),e("count "),a("span",{class:"token operator"},"+"),e(),a("span",{class:"token number"},"1"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n\n  "),a("span",{class:"token comment"},"// stateless reducer"),e("\n  "),a("span",{class:"token function-variable function"},"setCount"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[e("count"),a("span",{class:"token operator"},":"),e(" string")]),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"=>"),e(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),e("\n    "),a("span",{class:"token comment"},"// custom business logic"),e("\n    count"),a("span",{class:"token operator"},":"),e(),a("span",{class:"token function"},"isNaN"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"Number"),a("span",{class:"token punctuation"},"("),e("count"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),e(),a("span",{class:"token operator"},"?"),e(),a("span",{class:"token number"},"0"),e(),a("span",{class:"token operator"},":"),e(),a("span",{class:"token function"},"Number"),a("span",{class:"token punctuation"},"("),e("count"),a("span",{class:"token punctuation"},")"),e("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token comment"},'// "Activating" the actions'),e("\nstate$"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"subscribe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"state"),e(),a("span",{class:"token operator"},"=>"),e(" console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'counter: '"),a("span",{class:"token punctuation"},","),e(" state"),a("span",{class:"token punctuation"},"."),e("count"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),e("\n\n"),a("span",{class:"token comment"},"// One-way data binding from reactive state (with type convertation)"),e("\n"),a("span",{class:"token keyword"},"const"),e(" countRef "),a("span",{class:"token operator"},"="),e(),a("span",{class:"token function"},"syncRef"),a("span",{class:"token punctuation"},"("),e("state"),a("span",{class:"token punctuation"},","),e(),a("span",{class:"token string"},"'count'"),a("span",{class:"token punctuation"},","),e(" String"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),e("\n")])])],-1),kn=a("div",{class:"language-vue"},[a("pre",null,[a("code",null,[a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),e("template")]),a("span",{class:"token punctuation"},">")]),e("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),e("button")]),e(),a("span",{class:"token attr-name"},"@click"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),e("increment"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),e("increment to {{ state.count + 1 }}"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),e("button")]),a("span",{class:"token punctuation"},">")]),e("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),e("br")]),a("span",{class:"token punctuation"},">")]),e("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),e("input")]),e(),a("span",{class:"token attr-name"},"v-model"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),e("countRef"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},"/>")]),e("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),e("button")]),e(),a("span",{class:"token attr-name"},"@click"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),e("setCount(countRef)"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),e("set count to {{ countRef }}"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),e("button")]),a("span",{class:"token punctuation"},">")]),e("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),e("template")]),a("span",{class:"token punctuation"},">")]),e("\n")])])],-1);p.render=function(e,c,p,dn,mn,hn){const fn=n("CounterDemo"),gn=n("ClientOnly");return s(),t("div",null,[l,u,i,r,k,d,m,h,f,g,b,v,y,w,x,R,S,$,A,O,T,j,_,M,V,C,D,I,L,q,F,N,B,E,P,U,z,H,J,W,X,Y,G,K,Q,Z,nn,sn,tn,an,on,en,cn,pn,ln,un,a(gn,null,{default:o((()=>[a(fn,{simple:""})])),_:1}),rn,kn])};export default p;export{c as __pageData};
