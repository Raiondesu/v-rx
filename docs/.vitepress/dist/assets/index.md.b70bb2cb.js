import{o as n,c as s,a,b as t}from"./app.db09ee76.js";const o='{"title":"Install","description":"","frontmatter":{},"headers":[{"level":3,"title":"Install","slug":"install"},{"level":3,"title":"Use","slug":"use"}],"relativePath":"index.md","lastUpdated":1613649340726}',e={},p=a("h1",{align:"center",style:{"text-align":"center"}},[a("a",{href:"https://vuse-rx.raiondesu.rocks"},[a("img",{src:"/logo-g.svg",alt:"vuse-rx"})])],-1),c=a("h3",{align:"center",style:{"text-align":"center"}},"A first-class RX integration for Vue 3",-1),u=a("p",{align:"center",style:{"text-align":"center"}},[a("a",{href:"https://github.com/Raiondesu/vuse-rx/actions"},[a("img",{src:"https://img.shields.io/github/workflow/status/raiondesu/vuse-rx/CI?style=flat-square"})]),a("a",{href:"https://npmjs.com/vuse-rx"},[a("img",{src:"https://img.shields.io/npm/v/vuse-rx?style=flat-square"})]),a("a",{href:"https://npmjs.com/vuse-rx"},[a("img",{src:"https://img.shields.io/bundlephobia/minzip/vuse-rx?style=flat-square"})]),a("a",{href:"https://npmjs.com/vuse-rx"},[a("img",{src:"https://img.shields.io/npm/dt/vuse-rx?style=flat-square"})]),a("a",{href:"https://vuse-rx.raiondesu.rocks"},[a("img",{src:"https://img.shields.io/badge/docs-up-blue?style=flat-square"})])],-1),l=a("h3",{id:"install"},[a("a",{class:"header-anchor",href:"#install","aria-hidden":"true"},"#"),t(" Install")],-1),k=a("p",null,[a("code",null,"npm i -S vuse-rx")],-1),i=a("h3",{id:"use"},[a("a",{class:"header-anchor",href:"#use","aria-hidden":"true"},"#"),t(" Use")],-1),r=a("h4",{id:"userxstate"},[a("a",{class:"header-anchor",href:"#userxstate","aria-hidden":"true"},"#"),t(" useRxState")],-1),m=a("div",{class:"language-ts"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" reactive "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'vue'"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" interval"),a("span",{class:"token punctuation"},","),t(" merge"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token keyword"},"of"),t(),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'rxjs'"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" filter"),a("span",{class:"token punctuation"},","),t(" map"),a("span",{class:"token punctuation"},","),t(" mapTo"),a("span",{class:"token punctuation"},","),t(" switchMap "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'rxjs/operators'"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token comment"},"// Define base state type"),t("\n"),a("span",{class:"token class-name"},[a("span",{class:"token keyword"},"interface")]),t(" State "),a("span",{class:"token punctuation"},"{"),t("\n  count"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"boolean"),a("span",{class:"token punctuation"},";"),t("\n  speed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},";"),t("\n  value"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},";"),t("\n  maxValue"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},";"),t("\n  step"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token comment"},"// Define logic rules as simple functions"),t("\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"createState"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token generic-function"},[a("span",{class:"token function"},"reactive"),a("span",{class:"token generic class-name"},[a("span",{class:"token operator"},"<"),t("State"),a("span",{class:"token operator"},">")])]),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n  count"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"false"),a("span",{class:"token punctuation"},","),t("\n  speed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"10"),a("span",{class:"token punctuation"},","),t("\n  value"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},","),t("\n  maxValue"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"NaN"),a("span",{class:"token punctuation"},","),t("\n  step"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"validateSpeed"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),t("speed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" speed "),a("span",{class:"token operator"},">="),t(),a("span",{class:"token number"},"1"),t(),a("span",{class:"token operator"},"?"),t(" speed "),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"getNextValue"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token operator"},":"),t(" State"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" Math"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"min"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token punctuation"},","),t(" state"),a("span",{class:"token punctuation"},"."),t("maxValue"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"+"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"paused"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"?"),t(),a("span",{class:"token number"},"0"),t(),a("span",{class:"token operator"},":"),t(" state"),a("span",{class:"token punctuation"},"."),t("step"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"paused"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token operator"},":"),t(" State"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},"."),t("step "),a("span",{class:"token operator"},">"),t(),a("span",{class:"token number"},"0"),t(),a("span",{class:"token operator"},"&&"),t(" state"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},">="),t(" state"),a("span",{class:"token punctuation"},"."),t("maxValue"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"||"),t(),a("span",{class:"token operator"},"!"),t("state"),a("span",{class:"token punctuation"},"."),t("count"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"calcDelay"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),t("speed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token number"},"1000"),t(),a("span",{class:"token operator"},"/"),t(" speed"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"onInterval"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token function-variable function"},"mapValue"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token operator"},":"),t(" State"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" Partial"),a("span",{class:"token operator"},"<"),t("State"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token operator"},":"),t(" State"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),t("\n  "),a("span",{class:"token function"},"paused"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"?"),t(),a("span",{class:"token keyword"},"of"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},":"),t(),a("span",{class:"token function"},"interval"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"calcDelay"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},"."),t("speed"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"pipe"),a("span",{class:"token punctuation"},"("),t("\n    "),a("span",{class:"token function"},"mapTo"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function"},"map"),a("span",{class:"token punctuation"},"("),t("mapValue"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token comment"},"//"),t("\n\n"),a("span",{class:"token comment"},"// Define business rules as a Vue hook"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" useRxState "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'vuse-rx'"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"useStopwatch"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"const"),t(" initialState "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"createState"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n  "),a("span",{class:"token comment"},"// Note the double invocation here"),t("\n  "),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token function"},"useRxState"),a("span",{class:"token punctuation"},"("),t("initialState"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"("),t("\n    "),a("span",{class:"token comment"},"// Implement basic state reducers"),t("\n    "),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token function-variable function"},"setStep"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),t("step"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" step "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n      "),a("span",{class:"token function-variable function"},"setValue"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" value "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n      "),a("span",{class:"token function-variable function"},"setSpeed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),t("speed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" speed"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token function"},"validateSpeed"),a("span",{class:"token punctuation"},"("),t("speed"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n\n      "),a("span",{class:"token comment"},"// Can return observables"),t("\n      "),a("span",{class:"token function-variable function"},"setCountState"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),t("play"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"boolean"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"BehaviorSubject"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" count"),a("span",{class:"token operator"},":"),t(" play "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n\n\n      "),a("span",{class:"token comment"},'// Can reference the "older" state by returning a function that accepts the state'),t("\n      "),a("span",{class:"token function-variable function"},"setMaxValue"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),t("max"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token builtin"},"number"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" state "),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" maxValue"),a("span",{class:"token operator"},":"),t(" max"),a("span",{class:"token punctuation"},","),t(" value"),a("span",{class:"token operator"},":"),t(" state"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},">"),t(" max "),a("span",{class:"token operator"},"?"),t(" max "),a("span",{class:"token operator"},":"),t(" state"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t("\n\n    "),a("span",{class:"token comment"},"// Implement common business logic"),t("\n    "),a("span",{class:"token punctuation"},"("),t("\n      "),a("span",{class:"token comment"},"/* state observable: */"),t(" state$"),a("span",{class:"token punctuation"},","),t("\n      "),a("span",{class:"token comment"},"/* reducers you just wrote above: */"),t(" reducers\n    "),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token function"},"merge"),a("span",{class:"token punctuation"},"("),t("\n      state$"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"pipe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"switchMap"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"onInterval"),a("span",{class:"token punctuation"},"("),t("_ "),a("span",{class:"token operator"},"=>"),t(" reducers"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"setValue"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"getNextValue"),a("span",{class:"token punctuation"},"("),t("_"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),t("\n      state$"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"pipe"),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"filter"),a("span",{class:"token punctuation"},"("),t("_ "),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token operator"},"!"),a("span",{class:"token function"},"paused"),a("span",{class:"token punctuation"},"("),t("_"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token comment"},"// Use it!"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token punctuation"},"["),t("\n  "),a("span",{class:"token comment"},"// Reducers are now actions"),t("\n  actions"),a("span",{class:"token punctuation"},","),t("\n\n  "),a("span",{class:"token comment"},"// state is reactive"),t("\n  "),a("span",{class:"token comment"},"// and can be used to display data in templates"),t("\n  state"),a("span",{class:"token punctuation"},","),t("\n\n  "),a("span",{class:"token comment"},"// fires each time an action is activated"),t("\n  state$\n"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"useStopwatch"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\nstate$"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"subscribe"),a("span",{class:"token punctuation"},"("),t("newState "),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'state updated:'"),a("span",{class:"token punctuation"},","),t(" newState"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\nactions"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"setValue"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token comment"},"// logs:"),t("\n"),a("span",{class:"token comment"},"// state updated: {count: false, speed: 10, value: 1, maxValue: NaN, step: 1}"),t("\n\nactions"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"setCountState"),a("span",{class:"token punctuation"},"("),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token comment"},"// logs:"),t("\n"),a("span",{class:"token comment"},"// state updated: {count: true, speed: 10, value: 1, maxValue: NaN, step: 1}"),t("\n\n"),a("span",{class:"token builtin"},"console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'state:'"),a("span",{class:"token punctuation"},","),t(" state"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token comment"},"// logs:"),t("\n"),a("span",{class:"token comment"},"// state: {count: true, speed: 10, value: 1, maxValue: NaN, step: 1}"),t("\n")])])],-1);e.render=function(a,t,o,e,d,f){return n(),s("div",null,[p,c,u,l,k,i,r,m])};export default e;export{o as __pageData};
